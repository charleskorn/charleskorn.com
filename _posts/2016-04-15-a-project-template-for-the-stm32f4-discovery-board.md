---
layout: post
tags:   embedded iot st microcontrollers project-template
date:   2016-04-15 20:40:00 +10:00
title: A project template for the STM32F4 Discovery board
comments: true
---

I set myself a bit of a challenge recently: pull together a working toolchain for a microcontroller. I've always used environments automagically generated by tools or prepared by others and so it's been a bit of a mystery to me -- I wanted to dig into the details to understand what's going on. 

The result of this challenge is a project template for the [STM32F4 Discovery board](http://www.st.com/web/catalog/tools/FM116/SC959/SS1532/PF252419), which you can find on [GitHub](https://github.com/charleskorn/stm32f4-project-template).

I picked the [STM32F4 series](http://www.st.com/stm32f4) as it's a relatively popular MCU choice and has a low-cost development board in the form of the Discovery board. It's also an ARM processor, so there are plenty of good tools and resources available. The project template should work for any part in the STM32F4 series, although a bit of tweaking of some configuration files may be needed. 

It still has some rough edges, but it should be ready for use by people who aren't me. It has everything you need to get started:

* a working [CMake](http://cmake.org)-based build system, which uses the [GCC ARM toolchain](https://launchpad.net/gcc-arm-embdded) to produce a firmware binary
* a build target to flash that binary using [stlink](https://github.com/texane/stlink)
* the [STM32F4 DSP and standard peripherals library](http://www2.st.com/content/st_com/en/products/embedded-software/mcus-embedded-software/stm32-embedded-software/stm32-standard-peripheral-libraries/stsw-stm32065.html), if you want to use that
* a sample app that will flash the LEDs in a pattern. Yes, that's right, flashing LEDs:

	![flashing LEDs](/images/2016/stm32f4-project-template/flashing-leds.gif)
	
You can grab the template from [GitHub](https://github.com/charleskorn/stm32f4-project-template). If you run into any issues or have any suggestions, creating issues on the repository is the best way to get in touch.

I'm planning on writing up a few posts explaining some of the more interesting parts soon... stay tuned. 
